<div class="dashboard-container">
  <nav class="navbar">
    <div class="navbar-brand">
      <h1>Aurora Geoenergy</h1>
    </div>
    <div class="navbar-user" *ngIf="user">
      <app-role-badge></app-role-badge>
      <span class="user-info">
        <strong>{{ user.name }}</strong>
        <small>{{ user.email }}</small>
      </span>
      <button class="logout-btn" (click)="onLogout()">Sair</button>
    </div>
  </nav>

  <div class="content">
    <div class="dashboard-grid">
      <div class="card card-welcome">
        <h2>Bem-vindo!</h2>
        <p>VocÃª estÃ¡ logado no sistema de gerenciamento de releases.</p>
        <div class="role-info">
          <strong>Role Atual:</strong> {{ user?.role || 'VIEWER' }}
        </div>
      </div>

      <!-- Permissions Info Card -->
      <div class="card card-permissions">
        <h3>Suas PermissÃµes</h3>
        <div class="permissions-section">
          <h4>ðŸ“¦ AplicaÃ§Ãµes</h4>
          <ul>
            <li [class.allowed]="permissionsSummary.applications?.create">
              âœ“ Criar aplicaÃ§Ã£o
            </li>
            <li [class.allowed]="permissionsSummary.applications?.update">
              âœ“ Editar aplicaÃ§Ã£o
            </li>
            <li [class.allowed]="permissionsSummary.applications?.delete">
              âœ“ Deletar aplicaÃ§Ã£o
            </li>
          </ul>
        </div>

        <div class="permissions-section">
          <h4>ðŸ“¤ Releases</h4>
          <ul>
            <li [class.allowed]="permissionsSummary.releases?.create">
              âœ“ Criar release
            </li>
            <li [class.allowed]="permissionsSummary.releases?.update">
              âœ“ Editar release
            </li>
            <li [class.allowed]="permissionsSummary.releases?.delete">
              âœ“ Deletar release
            </li>
            <li [class.allowed]="permissionsSummary.releases?.promote">
              âœ“ Promover release
            </li>
          </ul>
        </div>

        <div class="permissions-section">
          <h4>âœ‹ AprovaÃ§Ãµes</h4>
          <ul>
            <li [class.allowed]="permissionsSummary.approvals?.approve">
              âœ“ Aprovar release
            </li>
            <li [class.allowed]="permissionsSummary.approvals?.approve">
              âœ“ Rejeitar release
            </li>
          </ul>
        </div>

        <div class="permissions-section">
          <h4>ðŸ“‹ Auditoria</h4>
          <ul>
            <li [class.allowed]="permissionsSummary.audit?.read">
              âœ“ Visualizar logs
            </li>
          </ul>
        </div>
      </div>

      <div class="card">
        <h3>Releases</h3>
        <p>Gerencie releases e versÃµes do aplicativo</p>
      </div>

      <div class="card">
        <h3>AprovaÃ§Ãµes</h3>
        <p>Revise e aprove releases em progresso</p>
      </div>

      <div class="card">
        <h3>Auditoria</h3>
        <p>Visualize logs de todas as aÃ§Ãµes do sistema</p>
      </div>
    </div>
  </div>
</div>
